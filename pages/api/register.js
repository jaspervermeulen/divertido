/* eslint-disable no-console */
/* eslint-disable global-require */
export default async function (req, res) {
  require('dotenv').config();

  const nodemailer = require('nodemailer');

  const transporter = nodemailer.createTransport({
    port: 465,
    host: 'smtp.gmail.com',
    auth: {
      user: 'divertidomailservice@gmail.com',
      pass: process.env.NEXT_PUBLIC_MAIL_PW,
    },
    secure: true,
  });

  await new Promise((resolve, reject) => {
    // verify connection configuration
    transporter.verify((error, success) => {
      if (error) {
        reject(error);
      } else {
        resolve(success);
      }
    });
  });

  const mailData = {
    from: 'divertidomailservice@gmail.com',
    to: 'info@divertido-kampen.be',
    subject: `Inschrijving Kamp | ${req.body.participantFullName}`,
    text: `${req.body.parentFirstname} | Verzender: ${req.body.parentFirstname}`,
    html: `
    <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
    <html xmlns="http://www.w3.org/1999/xhtml">
    <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
      <title>Demystifying Email Design</title>
      <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    </head>
    </html>
    <table style="font-family: Arial, sans-serif, 'Open Sans'; max-width:600px" width="100%" border="0" align="center" cellspacing="0" cellpadding="0">
      <tr>
        <td colspan="2">
          <div style="margin: 0px; padding: 0px; padding-top: 14px; margin-bottom: 12px">
            <svg width="195" height="20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M.1953 1.2031C.3047 1.0625.879.9727 1.918.9336a15.636 15.636 0 0 1 .5742-.0117c.6953 0 1.1172.0625 1.2656.1875.1563.0937.7422 1.375 1.7578 3.8437C6.5312 7.422 7.422 9.6523 8.1875 11.6445c-.039-.7734-.1875-2.4062-.4453-4.8984-.25-2.5-.379-4.2656-.3867-5.2969-.0078-.0937.0898-.1875.293-.2812.2109-.0938.4765-.168.7968-.2227A9.7895 9.7895 0 0 1 9.4531.8047 8.2528 8.2528 0 0 1 9.8867.793c.2031 0 .3985.0117.586.0351.3281.039.582.1094.7617.211.1094.1562.2109 1.5507.3047 4.1836.0859 2.3437.1289 4.7304.1289 7.1601a34.8144 34.8144 0 0 0-.0118.9141c-.0156 2.75-.0976 4.3281-.246 4.7343-.0235.1094-.4649.2188-1.3243.3282-.75.1015-1.3672.1523-1.8515.1523h-.1875c-.3282-.0234-.5664-.1914-.7149-.5039-.164-.3516-.7148-1.8476-1.6523-4.4883-.9375-2.6484-1.5235-4.2422-1.7578-4.7812.0234.5234.1914 2.0429.5039 4.5586.289 2.3359.4336 3.8906.4336 4.664v.1641c-.0078.2188-.336.3789-.9844.4805a6.8134 6.8134 0 0 1-1.9453.0234c-.6563-.0859-.9922-.2461-1.0078-.4805C.6875 15.1797.4609 11.6719.2422 7.625.125 5.4687.0625 3.8555.0547 2.7852c0-.9454.0469-1.4727.1406-1.582Zm13.9102 2.9297c.0547-.1719.289-.289.7031-.3515a3.8672 3.8672 0 0 1 .7383-.047c.1797 0 .3593.0079.539.0235.4375.0469.711.1328.8203.2578.1641.1953.3047 1.0469.4219 2.5547.1094 1.5156.1797 3.1406.211 4.875.0234 1.2656.0351 2.4609.0351 3.5859-.0078.4219-.0117.836-.0117 1.2422-.0156 1.4844-.0508 2.3204-.1055 2.5078.0235.1954-.2148.3438-.7148.4454a4.5955 4.5955 0 0 1-.9258.0937 4.228 4.228 0 0 1-.6211-.0469c-.5312-.0625-.8242-.2031-.8789-.4218-.0547-.3125-.1133-2.8047-.1758-7.4766-.039-2.875-.0586-4.8945-.0586-6.0586 0-.7266.0078-1.121.0235-1.1836Zm5.6367 9.9844a56.5438 56.5438 0 0 1-.0117-1.9922 93.137 93.137 0 0 1 .1523-5.7188c.1406-2.578.3633-3.8867.668-3.9257.5859-.0938 1.3398-.1407 2.2617-.1407.25 0 .5078.004.7734.0118 1.2813.0312 2.168.0898 2.6602.1757h.0234c.2735-.0078.4571.2305.5508.7149.0391.2031.0586.4101.0586.621a3.488 3.488 0 0 1-.1172.8907c-.1328.5078-.3281.7734-.5859.7969-.1797.0156-.5117.0234-.9961.0234-.4766 0-.9844-.0039-1.5235-.0117a219.999 219.999 0 0 0-.8437-.0117c-.0313.1797-.0508.4492-.0586.8086v.4336c.0078.211.0117.4101.0117.5976.0156.3125.0274.6172.0352.914.0078.297.0117.4532.0117.4688.8906 0 1.625.0313 2.2031.0938.1172.0078.2656.0195.4453.0351.1797.0079.336.0196.4688.0352.1328.0078.2461.0234.3398.0469.1328.039.2188.1992.2578.4804.0235.1563.0352.3164.0352.4805 0 .1406-.0078.2735-.0234.3985a11.7171 11.7171 0 0 1-.1289.8906c-.0235.1328-.4805.2031-1.3711.2109h-.5157c-.6718 0-1.2578-.0117-1.7578-.0351l-.0937 3.9375c.6093.039 1.1562.0585 1.6406.0585.2031 0 .3984-.0039.5859-.0117.2657-.0078.5118-.0117.7383-.0117.3047 0 .5586.0078.7617.0234.375.0313.5782.1133.6094.2461.1016.3594.1524.6993.1524 1.0196a.3807.3807 0 0 0-.0118.0937c-.0156.3438-.0507.6328-.1054.8672-.0469.2422-.0899.3672-.1289.375-.1641.0781-1.1993.1289-3.1055.1524a41.0106 41.0106 0 0 1-.9492.0117c-1.375 0-2.2969-.0469-2.7656-.1407-.1876-.0468-.3047-1.3515-.3516-3.914Zm9.2226-5.6836c.0157-1.1484.043-2.2266.0821-3.2344.039-1.0078.0703-1.5469.0937-1.6172.0469-.1484.2813-.2617.7032-.3398a3.0397 3.0397 0 0 1 .5976-.0586c.2266.0078.4609.0351.7031.082.4453.0938.7188.2735.8203.539.0235.086.0352.7032.0352 1.8516 0 1.1407-.0039 2.2852-.0117 3.4336v1.0664c0 .6641.0039 1.2266.0117 1.6876.0234 1.5859.3828 2.7617 1.0781 3.5273.2813.3047.6016.4609.961.4687h.0351c.3438 0 .6094-.1484.7969-.4453.3125-.4843.5586-1.1601.7383-2.0273.1875-.8594.2968-1.5938.3281-2.2031.0313-.4922.0469-.9375.0469-1.336v-.246c0-.2344-.0235-.6759-.0703-1.3243a210.9665 210.9665 0 0 0-.1172-1.8398 21.3006 21.3006 0 0 1-.0703-1.7461V4.578c0-.539.0351-.871.1054-.996.0547-.1407.3086-.2344.7618-.2813a4.5925 4.5925 0 0 1 .457-.0235c.289-.0078.5742.0196.8554.082.4376.0938.6602.2423.668.4454 0 .0312.0274.3867.082 1.0664.0626.6719.1211 1.414.1758 2.2266.0547.8046.0977 1.6601.1289 2.5664.0157.3906.0235.7421.0235 1.0547 0 .4218-.0117.7734-.0352 1.0546-.039.4219-.0937.8477-.164 1.2774-.0704.4219-.1758.8789-.3164 1.3711-.1407.4843-.3047.9414-.4922 1.3711-.1797.4218-.4141.8281-.7032 1.2187-.2812.3906-.5937.7188-.9375.9844-.3437.2656-.75.4648-1.2187.5977-.3203.0937-.6563.1406-1.0078.1406a3.7166 3.7166 0 0 1-.5039-.0352c-.4375-.0469-.8399-.1406-1.2071-.2812-.3672-.1407-.6875-.3008-.9609-.4805-.2734-.1719-.5234-.3984-.75-.6797-.2266-.2812-.418-.5469-.5742-.7969-.1485-.25-.2852-.5664-.4102-.9492-.1172-.3828-.2109-.7109-.2812-.9844-.0625-.2734-.125-.625-.1875-1.0546-.0625-.4375-.1055-.7813-.1289-1.0313a59.9323 59.9323 0 0 1-.0821-1.0312c-.039-.6485-.0586-1.3946-.0586-2.2383v-.7383Zm11.8243-3.9844c-.0157-.1719.2109-.3437.6797-.5156a3.9326 3.9326 0 0 1 1.4062-.2578c.0078.0078.0195.0117.0352.0117.5 0 .7773.125.832.375l.2812 1.6875c.1797 1.0781.4024 2.3516.668 3.8203.2656 1.4688.5 2.6485.7031 3.5391 1.0157-4.3438 1.6875-6.6563 2.0157-6.9375.1718-.1406.6445-.2188 1.4179-.2344h.2696c.6093 0 .9765.0469 1.1015.1406.1172.1406.2578.4219.4219.8438.1641.414.3359.9219.5156 1.5234.1797.6016.3438 1.1758.4922 1.7227.1563.539.3203 1.1289.4922 1.7695.1719.6406.293 1.082.3633 1.3242.1562-.5625.3945-1.6133.7148-3.1523.3203-1.5469.6133-2.9258.8789-4.1367.2735-1.211.461-1.8711.5625-1.9805.1719-.1875.4766-.2813.9141-.2813.1406 0 .3047.0118.4922.0352.7187.086 1.1758.2734 1.3711.5625.039.0547.0586.1601.0586.3164 0 .3984-.1211 1.1094-.3633 2.1328-.336 1.4297-.7344 2.918-1.1953 4.4649a473.3578 473.3578 0 0 1-1.3828 4.5351c-.461 1.4844-.6993 2.25-.7149 2.2969-.0469.1406-.2891.25-.7265.3281a4.3793 4.3793 0 0 1-.7852.0703 5.834 5.834 0 0 1-.5274-.0234c-.4374-.0469-.6914-.1485-.7617-.3047-.1718-.4141-.4218-1.2031-.75-2.3672a345.9351 345.9351 0 0 1-.914-3.4101c-.2813-1.1094-.4336-1.7032-.4571-1.7813-.4922 1.75-1.3476 4.2539-2.5664 7.5117-.0547.1407-.2851.2344-.6914.2813a6.834 6.834 0 0 1-.5625.0468 4.6414 4.6414 0 0 1-.6562-.0468c-.4063-.0625-.625-.1641-.6563-.3047-.2031-.8125-.4765-2-.8203-3.5625-.3437-1.5703-.6211-2.7656-.832-3.586-.1719-.6874-.3711-1.5507-.5977-2.5898-.2187-1.039-.4023-1.9375-.5508-2.6953-.1406-.7656-.1992-1.1563-.1757-1.1719Zm17.6484 9.668a56.5438 56.5438 0 0 1-.0117-1.9922 93.2166 93.2166 0 0 1 .1523-5.7188c.1407-2.578.3633-3.8867.668-3.9257.5859-.0938 1.3398-.1407 2.2617-.1407.25 0 .5078.004.7734.0118 1.2813.0312 2.168.0898 2.6602.1757h.0234c.2735-.0078.4571.2305.5508.7149.0391.2031.0586.4101.0586.621 0 .297-.039.5938-.1172.8907-.1328.5078-.3281.7734-.5859.7969-.1797.0156-.5117.0234-.9961.0234-.4766 0-.9844-.0039-1.5234-.0117a220.1862 220.1862 0 0 0-.8438-.0117c-.0312.1797-.0508.4492-.0586.8086v.4336c.0078.211.0117.4101.0117.5976.0157.3125.0274.6172.0352.914.0078.297.0117.4532.0117.4688.8906 0 1.625.0313 2.2031.0938.1172.0078.2657.0195.4453.0351.1797.0079.336.0196.4688.0352.1328.0078.2461.0234.3398.0469.1329.039.2188.1992.2579.4804.0234.1563.0351.3164.0351.4805 0 .1406-.0078.2735-.0234.3985a11.667 11.667 0 0 1-.1289.8906c-.0235.1328-.4805.2031-1.3711.2109h-.5156c-.6719 0-1.2579-.0117-1.7579-.0351l-.0937 3.9375c.6094.039 1.1562.0585 1.6406.0585.2031 0 .3984-.0039.586-.0117.2656-.0078.5117-.0117.7382-.0117.3047 0 .5586.0078.7618.0234.375.0313.5781.1133.6093.2461.1016.3594.1524.6993.1524 1.0196a.3854.3854 0 0 0-.0117.0937c-.0157.3438-.0508.6328-.1055.8672-.0469.2422-.0899.3672-.1289.375-.1641.0781-1.1992.1289-3.1055.1524a41.0039 41.0039 0 0 1-.9492.0117c-1.375 0-2.2969-.0469-2.7656-.1407-.1875-.0468-.3047-1.3515-.3516-3.914Zm15.832-9.9844c.0547-.1719.2891-.289.7032-.3515a3.8657 3.8657 0 0 1 .7382-.047c.1797 0 .3594.0079.5391.0235.4375.0469.7109.1328.8203.2578.1641.1953.3047 1.0469.4219 2.5547.1094 1.5156.1797 3.1406.2109 4.875a193.637 193.637 0 0 1 .0352 3.5859c-.0078.4219-.0117.836-.0117 1.2422-.0157 1.4844-.0508 2.3204-.1055 2.5078.0234.1954-.2149.3438-.7149.4454a4.5938 4.5938 0 0 1-.9257.0937 4.227 4.227 0 0 1-.6211-.0469c-.5313-.0625-.8242-.2031-.8789-.4218-.0547-.3125-.1133-2.8047-.1758-7.4766-.0391-2.875-.0586-4.8945-.0586-6.0586 0-.7266.0078-1.121.0234-1.1836Zm5.8594.9375c.0078-.6094.043-.9453.1055-1.0078.0859-.1094.5664-.1797 1.4414-.211.1719-.0078.332-.0117.4804-.0117.586 0 .9376.0508 1.0547.1524.2032.1016 1.4453 3.039 3.7266 8.8125-.0391-.7031-.168-2.0859-.3867-4.1485-.211-2.0703-.3242-3.5273-.3399-4.371 0-.1407.2227-.2657.668-.375.4453-.1172.9102-.1758 1.3945-.1758a.1038.1038 0 0 0 .0469-.0117c.4688 0 .8555.0664 1.1602.1992.1562.2187.2695 2.5.3398 6.8437a210.934 210.934 0 0 1 .0235 2.9532c0 2.5312-.0743 4.0078-.2227 4.4296-.0313.0938-.4102.1875-1.1367.2813-.5782.0781-1.0508.1172-1.418.1172a2.2634 2.2634 0 0 1-.2461-.0117c-.1328 0-.2578-.0391-.375-.1172-.1094-.0782-.1875-.1758-.2344-.293-.1484-.3125-.6132-1.5703-1.3945-3.7734-.7812-2.211-1.2656-3.5352-1.4531-3.9727.0078.4609.1445 1.7383.4101 3.832.25 1.9688.375 3.2696.375 3.9024v.1055c0 .1874-.2734.3242-.8203.4101a5.478 5.478 0 0 1-.8789.0703 8.5239 8.5239 0 0 1-.7617-.0586c-.5469-.0781-.8281-.2109-.8437-.3984a420.5136 420.5136 0 0 0-.1407-1.8984 602.4602 602.4602 0 0 0-.1875-2.754 1738.7362 1738.7362 0 0 1-.1992-3.2109 237.6692 237.6692 0 0 1-.1406-2.9648c-.0313-.797-.0469-1.4688-.0469-2.0157v-.328Zm11.1328 10.3711c.8047-.9141 1.4844-1.3867 2.0391-1.418.1406 0 .3672.1641.6797.4922.3203.3282.5312.5235.6328.586.4375.3593.8672.5781 1.289.6562a3.483 3.483 0 0 0 .3868.0469c.25 0 .4648-.0586.6445-.1758.2656-.1719.4219-.4336.4687-.7851v-.1055c0-.336-.1054-.6836-.3164-1.043-.2343-.3906-.4804-.7031-.7382-.9375-.25-.2344-.543-.4844-.8789-.75l-.5157-.3867a64.4873 64.4873 0 0 0-.4922-.3984l-.4921-.4219c-.0547-.0469-.1954-.168-.4219-.3633-.2188-.1953-.3594-.3281-.4219-.3984-.0547-.0703-.1641-.1914-.3281-.3633-.1641-.1797-.2774-.3242-.3399-.4336-.0547-.1094-.1289-.2461-.2226-.4102-.0938-.1718-.1641-.336-.211-.4922a5.2926 5.2926 0 0 1-.1172-.5039c-.0468-.2578-.0703-.5078-.0703-.75 0-.2656.0313-.5234.0938-.7734.1094-.4531.2734-.8242.4922-1.1133a3.3131 3.3131 0 0 1 .8086-.7383c.3125-.203.6133-.3476.9023-.4336.2891-.0937.5625-.1523.8203-.1757.125-.0157.25-.0235.375-.0235 1.1563 0 2.2735.5586 3.3516 1.6758.0859.086.1289.1914.1289.3164 0 .1328-.0508.289-.1524.4688-.1953.3437-.4648.6445-.8085.9023-.3125.2344-.5665.3516-.7618.3516h-.0468c-.0625-.0078-.1602-.0899-.293-.2461a7.1876 7.1876 0 0 0-.3867-.4453c-.1328-.1407-.3047-.2461-.5156-.3164-.2032-.0704-.4102-.0235-.6211.1406-.1641.1406-.2422.293-.2344.457.0156.164.1055.3711.2695.6211.1641.25.375.504.6328.7617.2578.25.5508.539.8789.8672.3282.3203.6602.6406.9961.961a13.792 13.792 0 0 1 1.0078 1.0195c.3282.3594.6211.7109.8789 1.0547.2579.3437.4647.7031.6207 1.0781.165.3672.254.7187.27 1.0547v.164c-.008.6563-.137 1.2657-.387 1.8282-.281.6093-.656 1.1054-1.1248 1.4882a5.7811 5.7811 0 0 1-1.5937.9141 4.6287 4.6287 0 0 1-1.5937.2813h-.211c-.625-.0313-1.2031-.1797-1.7344-.4454-.1718-.0859-.4296-.2734-.7734-.5624-.3359-.2813-.6797-.5977-1.0312-.9493-.3438-.3515-.6094-.7031-.7969-1.0547-.1016-.1875-.1485-.3515-.1407-.4921 0-.1094.0352-.2032.1055-.2813Zm10.2423-3.9844c.016-.3359.031-.6289.047-.8789.015-.25.051-.625.105-1.125.063-.5078.129-.9531.199-1.336.079-.3905.192-.8476.34-1.371.157-.5313.328-.9922.516-1.3828.195-.3985.441-.8008.738-1.207.297-.4063.625-.7383.985-.9961.359-.2579.785-.4649 1.277-.6211.43-.1328.891-.1993 1.383-.1993h.222c.079-.0078.25.0118.516.0586.266.0391.59.1094.973.211.383.1015.769.2773 1.16.5273.398.25.707.5508.926.9024.054.078.054.1601 0 .246-.172.3672-.403.7735-.692 1.2188-.289.4453-.523.668-.703.668-.125-.0078-.297-.0899-.516-.2461-.21-.164-.418-.3242-.621-.4805-.203-.1562-.461-.2734-.773-.3515a1.231 1.231 0 0 0-.34-.047c-.203 0-.402.047-.598.1407-.421.164-.785.496-1.089.996-.297.5-.512 1.0626-.645 1.6876-.141.625-.234 1.1992-.281 1.7226-.039.3985-.055.7657-.047 1.1016V11c.031.8438.141 1.5547.328 2.1328.195.5781.426 1.0078.691 1.2891.274.2812.598.4726.973.5742.274.0781.535.1172.785.1172.086.0078.176.0039.27-.0117.328-.0313.679-.1172 1.055-.2578.382-.1407.683-.2657.902-.375a9.072 9.072 0 0 0 .656-.375c.125-.0782.316-.0157.574.1874.266.2032.504.461.715.7735.211.3125.371.6211.481.9258.117.3047.093.5156-.071.6328-1.906 1.3281-3.586 1.9922-5.039 1.9922-.094 0-.195-.0039-.304-.0117-1.532-.1016-2.75-.793-3.657-2.0743-.898-1.289-1.379-2.9765-1.441-5.0625Zm11.93 3.0235c-.008-.6172-.012-1.2383-.012-1.8633 0-1.7422.039-3.504.117-5.2852.109-2.414.262-3.703.457-3.8672.18-.1484.637-.2382 1.371-.2695.11-.0078.211-.0117.305-.0117.555 0 .918.086 1.09.2578.07.0781.109.4258.117 1.043v.4453c-.008.5469-.02 1.2187-.035 2.0156-.032 1.0235-.043 1.7031-.035 2.039 0 .0704.054.129.164.1759.117.039.23.0586.339.0586.282-.0157.547-.0235.797-.0235.375 0 .711.0156 1.008.0469.297 0 .445-.0703.445-.211 0-.4609-.007-1.1914-.023-2.1914-.008-1-.012-1.793-.012-2.3789 0-.5859.012-.8945.035-.9257.086-.1485.379-.2696.879-.3633.344-.0625.68-.0938 1.008-.0938.149 0 .301.0078.457.0235.469.0468.715.168.739.3632.164 1.1875.253 2.957.269 5.3086v.832c0 2.0157-.039 3.8399-.117 5.4727-.086 1.8516-.18 2.836-.281 2.9531-.141.1797-.485.2696-1.032.2696-.375 0-.843-.043-1.406-.1289-.062-.0078-.105-.0157-.129-.0235-.219-.0312-.328-.1484-.328-.3515-.008-.0938-.012-.2266-.012-.3985 0-.4687.024-1.2461.071-2.332.054-1.3203.082-2.2852.082-2.8945v-.211c0-.1015-.024-.1836-.071-.2461-.046-.0703-.113-.1015-.199-.0937l-2.273.0703c-.031 0-.078.0039-.141.0117h-.117c-.016 0-.043.0039-.082.0117-.039.0079-.063.0196-.07.0352a.3457.3457 0 0 0-.036.0469c-.015.0234-.027.0547-.035.0937v.1172c-.008.4141.012 1.1953.059 2.3438.031.9062.051 1.6562.058 2.25a9.9923 9.9923 0 0 0-.011.4453c-.016.6562-.074 1-.176 1.0312-.414.1094-.856.1641-1.324.1641-.5 0-1.035-.0625-1.606-.1875-.164-.0313-.265-1.2227-.304-3.5742ZM125.07 5.293c.024-.5.078-.7735.164-.8203.188-.211.516-.379.985-.504.429-.1171.918-.1796 1.465-.1875.046 0 .097.004.152.0118.602.0156 1.203.086 1.805.211.601.125 1.16.3515 1.675.6796.516.3281.891.7305 1.125 1.207.368.7344.61 1.4453.727 2.1328.062.375.098.7266.105 1.0547 0 .2657-.023.5117-.07.7383-.094.5-.234.9688-.422 1.4063-.187.4375-.386.7929-.597 1.0664-.204.2656-.372.4921-.504.6797-.133.1874-.184.3007-.153.3398.149.2266.5.7383 1.055 1.5352.563.789 1.148 1.6679 1.758 2.6367a.13.13 0 0 1 .023.0703c.008.1328-.152.332-.48.5976a4.8204 4.8204 0 0 1-1.289.7383c-.25.1016-.453.1524-.61.1524-.132 0-.23-.0391-.293-.1172-.421-.5703-.914-1.3399-1.476-2.3086-.563-.9688-.957-1.6172-1.184-1.9453-.125-.1797-.293-.2422-.504-.1875-.101.0234-.187.0781-.257.164-.063.0782-.09.168-.082.2696.015.2656.046.6484.093 1.1484.039.5.071.9531.094 1.3594.016.2422.023.4804.023.7148 0 .1563-.003.3125-.011.4688-.008.1953-.215.3633-.621.5039-.36.1328-.719.1953-1.078.1875h-.118c-.398-.0157-.593-.125-.586-.3281-.093-.8985-.183-1.8321-.269-2.8008-.086-.9766-.176-2.0118-.27-3.1055-.086-1.1016-.16-2.1406-.222-3.1172-.063-.9765-.11-1.871-.141-2.6836-.016-.461-.023-.875-.023-1.2422 0-.2734.003-.5156.011-.7265Zm2.637 1.3828c.008.6015.055 1.5.141 2.6953.086 1.1875.136 2.043.152 2.5664 0 .0625.023.1133.07.1523.047.0391.102.0508.164.0352.797-.0938 1.442-.4922 1.934-1.1953.391-.5469.586-1.125.586-1.7344 0-.164-.016-.332-.047-.5039-.211-1.1562-1.129-1.8984-2.754-2.2266-.062-.0156-.121.004-.176.0586-.054.047-.078.0977-.07.1524Zm8.719-2.543c.054-.1719.289-.289.703-.3515a3.863 3.863 0 0 1 .738-.047c.18 0 .36.0079.539.0235.438.0469.711.1328.821.2578.164.1953.304 1.0469.421 2.5547.11 1.5156.18 3.1406.211 4.875.024 1.2656.036 2.4609.036 3.5859-.008.4219-.012.836-.012 1.2422-.016 1.4844-.051 2.3204-.106 2.5078.024.1954-.215.3438-.715.4454a4.5862 4.5862 0 0 1-.925.0937c-.203 0-.41-.0156-.621-.0469-.532-.0625-.825-.2031-.879-.4218-.055-.3125-.114-2.8047-.176-7.4766-.039-2.875-.059-4.8945-.059-6.0586 0-.7266.008-1.121.024-1.1836Zm5.566 8.8828c.008-.0859.145-.1679.41-.2461.274-.0859.575-.1523.903-.1992.242-.0312.472-.0469.691-.0469.086 0 .168.0039.246.0118.289.0156.457.0703.504.164.063.1094.106.3125.129.6094.031.2891.059.5625.082.8203.031.25.141.4844.328.7031.188.2188.465.3399.832.3633.242-.0078.445-.043.61-.1055.171-.0625.304-.1367.398-.2226.102-.086.18-.211.234-.375.063-.1719.102-.3281.118-.4688.023-.1406.043-.332.058-.5742v-.1875c0-.2187-.004-.5976-.012-1.1367-.023-.75-.046-1.6016-.07-2.5547-.023-.9531-.039-1.9062-.047-2.8594a43.6699 43.6699 0 0 1-.011-.996c0-.5235.003-.9922.011-1.4063.024-.6563.067-1 .129-1.0313.149-.0703.613-.121 1.395-.1523h.328c.594 0 .984.0664 1.172.1992.039.039.097.4414.175 1.207.079.7657.145 1.7227.2 2.8711.039.9922.058 2.0079.058 3.0469v.4805c-.008 1.2031-.093 2.3359-.258 3.3984-.156 1.0625-.39 1.8164-.703 2.2617-.382.5469-.867.9688-1.453 1.2657-.578.3047-1.176.4726-1.793.5039h-.199c-.547 0-1.094-.1016-1.641-.3047-.609-.2266-1.14-.5586-1.593-.9961-.453-.4297-.801-.9961-1.043-1.6992-.157-.4922-.235-1.0117-.235-1.5586 0-.2578.016-.5196.047-.7852Zm10.676-8.7304c.031-.1016.234-.254.609-.457.383-.211.805-.3829 1.266-.5157.281-.0781.512-.1172.691-.1172.118 0 .215.0156.293.0469.149.0703.293.2422.434.5156.148.2734.285.6211.41 1.043.133.4219.246.8281.34 1.2187.101.3907.211.836.328 1.336.117.5.207.8672.27 1.1015.257.9688.648 2.6875 1.171 5.1563.079-.3438.329-1.4883.75-3.4336.422-1.9531.79-3.5469 1.102-4.7813.32-1.2421.566-1.9257.738-2.0507.11-.0704.27-.1055.481-.1055.226 0 .511.039.855.1172.672.1562 1.059.3125 1.16.4687.102.0625.161.2344.176.5156 0 .0391.004.0743.012.1055 0 .2578-.035.5625-.106.914-.078.4063-.175.8438-.293 1.3126-.109.461-.238.9492-.386 1.4648-.149.5078-.289.9688-.422 1.3828-.125.4141-.246.8047-.363 1.1719-.118.3672-.192.6133-.223.7383-.828 3.1641-1.418 5.2109-1.77 6.1406-.265.711-.476 1.0938-.632 1.1485-.211.1328-.637.1992-1.278.1992a.1274.1274 0 0 0-.058.0117c-.602 0-.981-.0586-1.137-.1758-.274-.1484-.789-1.3789-1.547-3.6914a127.178 127.178 0 0 1-2.039-6.9492c-.555-2.1094-.836-3.3555-.844-3.7383 0-.039.004-.0703.012-.0937Zm13.148-.1524c.055-.1719.289-.289.704-.3515a3.863 3.863 0 0 1 .738-.047c.18 0 .359.0079.539.0235.437.0469.711.1328.82.2578.164.1953.305 1.0469.422 2.5547.109 1.5156.18 3.1406.211 4.875.023 1.2656.035 2.4609.035 3.5859-.008.4219-.012.836-.012 1.2422-.015 1.4844-.05 2.3204-.105 2.5078.023.1954-.215.3438-.715.4454a4.596 4.596 0 0 1-.926.0937c-.203 0-.41-.0156-.621-.0469-.531-.0625-.824-.2031-.879-.4218-.054-.3125-.113-2.8047-.175-7.4766-.04-2.875-.059-4.8945-.059-6.0586 0-.7266.008-1.121.023-1.1836Zm5.86.9375c.008-.6094.043-.9453.105-1.0078.086-.1094.567-.1797 1.442-.211.172-.0078.332-.0117.48-.0117.586 0 .938.0508 1.055.1524.203.1016 1.445 3.039 3.726 8.8125-.039-.7031-.168-2.0859-.386-4.1485-.211-2.0703-.325-3.5273-.34-4.371 0-.1407.222-.2657.668-.375.445-.1172.91-.1758 1.394-.1758.016 0 .032-.004.047-.0117.469 0 .856.0664 1.16.1992.157.2187.27 2.5.34 6.8437.016 1.1016.024 2.086.024 2.9532 0 2.5312-.075 4.0078-.223 4.4296-.031.0938-.41.1875-1.137.2813-.578.0781-1.051.1172-1.418.1172-.093 0-.175-.0039-.246-.0117-.133 0-.258-.0391-.375-.1172-.109-.0782-.187-.1758-.234-.293-.149-.3125-.613-1.5703-1.395-3.7734-.781-2.211-1.265-3.5352-1.453-3.9727.008.4609.145 1.7383.41 3.832.25 1.9688.375 3.2696.375 3.9024v.1055c0 .1874-.273.3242-.82.4101a5.4784 5.4784 0 0 1-.879.0703 8.5361 8.5361 0 0 1-.762-.0586c-.546-.0781-.828-.2109-.843-.3984-.039-.5469-.086-1.1797-.141-1.8984-.047-.7188-.109-1.6368-.188-2.754-.07-1.1171-.136-2.1875-.199-3.2109a251.6157 251.6157 0 0 1-.14-2.9648c-.032-.797-.047-1.4688-.047-2.0157v-.328Zm11.039 7.7578a17.6366 17.6366 0 0 1-.012-.6445c0-.75.035-1.3906.106-1.9219.101-1.2812.32-2.375.656-3.2812.336-.914.875-1.7032 1.617-2.3672.578-.5078 1.316-.8477 2.215-1.0195.406-.0782.785-.1172 1.137-.1172.437 0 .839.0586 1.207.1757.507.0547 1.054.2579 1.64.6094.594.3516.887.6953.879 1.0313-.055.3437-.508.9023-1.359 1.6757-.094.0938-.207.1407-.34.1407-.133-.0078-.246-.0547-.34-.1406-.305-.2657-.601-.4649-.891-.5977-.289-.1406-.55-.211-.785-.211-.234-.0078-.457.0235-.668.0938-.211.0625-.402.168-.574.3164a5.224 5.224 0 0 0-.457.4688 3.0696 3.0696 0 0 0-.375.5156c-.101.1875-.187.3515-.258.4922-.062.1328-.117.2539-.164.3633l-.07.164c-.125.5469-.234 1.164-.328 1.8516-.086.6797-.145 1.4101-.176 2.1914v.3398c0 .6407.07 1.2227.211 1.7461.156.6172.414 1.0235.773 1.2188.438.2422.817.3633 1.137.3633.055 0 .109-.004.164-.0118.352-.0468.641-.1836.867-.4101.235-.2266.407-.5078.516-.8438.117-.3359.191-.6445.223-.9257.039-.2813.046-.504.023-.668-.078.0078-.16.0117-.246.0117-.313 0-.648-.0352-1.008-.1055-.156-.039-.258-.2461-.305-.6211a2.5866 2.5866 0 0 1-.023-.3515c0-.25.035-.5039.105-.7617.102-.375.258-.5899.469-.6446.039-.0312.168-.0469.387-.0469.125 0 .277.004.457.0118.398.0234.672.0351.82.0351h.082c.485-.0234 1.137-.039 1.957-.0469h.399c.625 0 1.082.0157 1.371.0469.148.0391.254.2422.316.6094.024.1953.035.3906.035.5859 0 .1797-.011.3594-.035.5391-.054.3672-.144.5664-.269.5977a6.8612 6.8612 0 0 1-1.324.1289c-.11 0-.215-.0039-.317-.0118-.015.9922-.117 1.8477-.305 2.5665-.179.7187-.433 1.289-.761 1.7109-.321.4219-.672.7383-1.055.9492-.383.2188-.816.3633-1.301.4336-.57.0859-1.093.1289-1.57.1289-.477 0-.891-.0312-1.242-.0937-.352-.0547-.676-.1524-.973-.293-.289-.1328-.531-.2735-.726-.4219-.188-.1406-.36-.3242-.516-.5508-.149-.2187-.266-.4218-.352-.6093-.078-.1875-.152-.4102-.222-.668-.063-.2656-.11-.4844-.141-.6563a24.7595 24.7595 0 0 0-.094-.6445c-.039-.25-.07-.4375-.093-.5625-.039-.2109-.071-.832-.094-1.8633Z" fill="#000"/></svg>            <p style="margin: 0px; padding: 0px; padding-top: 5px; padding-bottom: 5px; font-size:13px">(Inschrijving verstuurd via de website)
            <hr />
          </div>
        </td>
      </tr>
      <tr>
        <td colspan="2">
          <div style="margin: 0px; padding: 0px; padding-top: 8px; padding-bottom: 6px;">
            <p style="font-size: 16px; font-weight: 600; margin: 0px; padding: 0px">Gegevens Deelnemer</p>
          </div>
        </td>
      </tr>
      <tr>
        <td style="margin: 0px; padding: 0px">
          <p style="margin: 0px; padding: 0px; padding-bottom: 4px; font-size:13px; text-transform: uppercase; font-weight: 900; opacity: 0.7">Naam:</p>
          <p style="border: solid; margin-top: 2px; margin-right: 12px; border-color: #539AD160; border-radius: 4px; margin: 0px; padding: 5px; font-size:15px">${
            req.body.participantFullName
          }</p>
        </td>
        <td style="margin: 0px; padding: 0px; padding-left: 6px">
          <p style="margin: 0px; padding: 0px; padding-bottom: 4px; font-size:13px; text-transform: uppercase; font-weight: 900;opacity: 0.7">Geboortedatum:</p>
          <p style="border: solid; margin-top: 2px; margin-right: 12px; border-color: #539AD160; border-radius: 4px; margin: 0px; padding: 5px; font-size:15px">${
            req.body.participantBirthData
          }</p>
        </td>
      </tr>
      <tr>
        <td style="margin: 0px; padding: 0px">
          <div style="padding-top: 12px">
            <p style="margin: 0px; padding: 0px; padding-bottom: 4px; font-size:13px; text-transform: uppercase; font-weight: 900;opacity: 0.7">Leerjaar:</p>
            <p style="border: solid; margin-top: 2px; margin-right: 12px; border-color: #539AD160; border-radius: 4px; margin: 0px; padding: 5px; font-size:15px">${
              req.body.participantGrade
            }</p>
          </div>
        </td>
        <td style="margin: 0px; padding: 0px; padding-left: 6px">
          <div style="padding-top: 12px">
            <p style="margin: 0px; padding: 0px; padding-bottom: 4px; font-size:13px; text-transform: uppercase; font-weight: 900;opacity: 0.7">Geslacht:</p>
            <p style="border: solid; margin-top: 2px; margin-right: 12px; border-color: #539AD160; border-radius: 4px; margin: 0px; padding: 5px; font-size:15px">${
              req.body.participantSex
            }</p>
          </div>
        </td>
      </tr>
      <tr>
        <td colspan="2">
          <div style="margin: 0px; padding: 0px; padding-top: 24px; padding-bottom: 6px;">
            <p style="font-size: 16px; font-weight: 600; margin: 0px; padding: 0px">Gegevens Ouder/Voogd</p>
          </div>
        </td>
      </tr>
      <tr>
        <td style="margin: 0px; padding: 0px">
          <p style="margin: 0px; padding: 0px; padding-bottom: 4px; font-size:13px; text-transform: uppercase; font-weight: 900;opacity: 0.7">Naam:</p>
          <p style="border: solid; margin-top: 2px; margin-right: 12px; border-color: #539AD160; border-radius: 4px; margin: 0px; padding: 5px; font-size:15px">${
            req.body.parentFullName
          }</p>
        </td>
        <td style="margin: 0px; padding: 0px; padding-left: 6px">
          <p style="margin: 0px; padding: 0px; padding-bottom: 4px; font-size:13px; text-transform: uppercase; font-weight: 900;opacity: 0.7">Email:</p>
          <p style="border: solid; margin-top: 2px; margin-right: 12px; border-color: #539AD160; border-radius: 4px; margin: 0px; padding: 5px; font-size:15px">${
            req.body.parentEmail
          }</p>
        </td>
      </tr>
      <tr>
        <td style="margin: 0px; padding: 0px">
          <div style="padding-top: 12px">
            <p style="margin: 0px; padding: 0px; padding-bottom: 4px; font-size:13px; text-transform: uppercase; font-weight: 900;opacity: 0.7">Gsm:</p>
            <p style="border: solid; margin-top: 2px; margin-right: 12px; border-color: #539AD160; border-radius: 4px; margin: 0px; padding: 5px; font-size:15px">${
              req.body.parentPhone
            }</p>
          </div>
        </td>
      </tr>
      <tr>
        <td colspan="2" style="margin: 0px; padding: 0px">
        <div style="padding-top: 12px">
          <p style="margin: 0px; padding: 0px; padding-bottom: 4px; font-size:13px; text-transform: uppercase; font-weight: 900;opacity: 0.7">Adresregel 1:</p>
          <p style="border: solid; margin-top: 2px; margin-right: 12px; border-color: #539AD160; border-radius: 4px; margin: 0px; padding: 5px; font-size:15px">${
            req.body.parentAdres1
          }</p>
          </div>
        </td>
      </tr>
      <tr>
        <td colspan="2" style="margin: 0px; padding: 0px">
        <div style="padding-top: 12px">
          <p style="margin: 0px; padding: 0px; padding-bottom: 4px; font-size:13px; text-transform: uppercase; font-weight: 900;opacity: 0.7">Adresregel 2:</p>
          <p style="border: solid; margin-top: 2px; margin-right: 12px; border-color: #539AD160; border-radius: 4px; margin: 0px; padding: 5px; font-size:15px">${
            req.body.parentAdres2
          }</p>
           </div>
        </td>
      </tr>
      <tr>
        <td style="margin: 0px; padding: 0px">
        <div style="padding-top: 12px">
          <p style="margin: 0px; padding: 0px; padding-bottom: 4px; font-size:13px; text-transform: uppercase; font-weight: 900;opacity: 0.7">Postcode:</p>
          <p style="border: solid; margin-top: 2px; margin-right: 12px; border-color: #539AD160; border-radius: 4px; margin: 0px; padding: 5px; font-size:15px">${
            req.body.parentPostalCode
          }</p>
          </div>
        </td>
        <td style="margin: 0px; padding: 0px; padding-left: 6px">
        <div style="padding-top: 12px">
          <p style="margin: 0px; padding: 0px; padding-bottom: 4px; font-size:13px; text-transform: uppercase; font-weight: 900;opacity: 0.7">Woonplaats:</p>
          <p style="border: solid; margin-top: 2px; margin-right: 12px; border-color: #539AD160; border-radius: 4px; margin: 0px; padding: 5px; font-size:15px">${
            req.body.parentPlace
          }</p>
          </div>
        </td>
      </tr>
     <tr>
        <td colspan="2">
          <div style="margin: 0px; padding: 0px; padding-top: 24px; padding-bottom: 6px;">
            <p style="font-size: 16px; font-weight: 600; margin: 0px; padding: 0px">Extra opmerkingen</p>
          </div>
        </td>
      </tr>
      <tr>
        <td colspan="2" style="margin: 0px; padding: 0px">
          <p style="margin: 0px; padding: 0px; padding-bottom: 4px; font-size:13px; text-transform: uppercase; font-weight: 900;opacity: 0.7">Extra opmerkingen:</p>
          <p style="border: solid; margin-top: 2px; margin-right: 12px; border-color: #539AD160; border-radius: 4px; margin: 0px; padding: 5px; font-size:15px">${
            req.body.notes
          }</p>
        </td>
      </tr>
      <tr>
        <td colspan="2">
          <div style="margin: 0px; padding: 0px; padding-top: 24px; padding-bottom: 6px;">
            <p style="font-size: 16px; font-weight: 600; margin: 0px; padding: 0px">Kampen</p>
          </div>
        </td>
      </tr>
      <tr>
        <td colspan="2" style="margin: 0px; padding: 0px">
          <p style="margin: 0px; padding: 0px; padding-bottom: 4px; font-size:13px; text-transform: uppercase; font-weight: 900;opacity: 0.7">Kamp:</p>
          <p style="border: solid; margin-top: 2px; margin-right: 12px; border-color: #539AD160; border-radius: 4px; margin: 0px; padding: 5px; font-size:15px">${req.body.selectedCamps.join(
            '<br />'
          )}</p>
          
        </td>
      </tr>
      <tr>
        <td colspan="2">
          <div style="margin: 0px; padding: 0px; padding-top: 24px; padding-bottom: 6px;">
            <p style="font-size: 16px; font-weight: 600; margin: 0px; padding: 0px">GDPR</p>
          </div>
        </td>
      </tr>
      <tr>
        <td style="margin: 0px; padding: 0px">
          <div>
            <p style="margin: 0px; padding: 0px; padding-bottom: 4px; font-size:13px; text-transform: uppercase; font-weight: 900;opacity: 0.7">Foto's:</p>
            <p style="border: solid; margin-top: 2px; margin-right: 12px; border-color: #539AD160; border-radius: 4px; margin: 0px; padding: 5px; font-size:15px">${
              req.body.gdprImages
            }</p>
          </div>
        </td>
        <td style="margin: 0px; padding: 0px; padding-left: 6px">
          <div>
            <p style="margin: 0px; padding: 0px; padding-bottom: 4px; font-size:13px; text-transform: uppercase; font-weight: 900;opacity: 0.7">Gegevens:</p>
            <p style="border: solid; margin-top: 2px; margin-right: 12px; border-color: #539AD160; border-radius: 4px; margin: 0px; padding: 5px; font-size:15px">${
              req.body.gdprData
            }</p>
          </div>
        </td>
      </tr>
    </table>
    `,
  };

  await new Promise((resolve, reject) => {
    // send mail
    transporter.sendMail(mailData, (err, info) => {
      if (err) {
        reject(err);
      } else {
        resolve(info);
      }
    });
  });

  res.status('200').send();
}
