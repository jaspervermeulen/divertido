/* eslint-disable no-console */
/* eslint-disable global-require */
export default async function (req, res) {
  require('dotenv').config();

  const nodemailer = require('nodemailer');

  const transporter = nodemailer.createTransport({
    port: 465,
    host: 'smtp.gmail.com',
    auth: {
      user: 'divertidomailservice@gmail.com',
      pass: process.env.NEXT_PUBLIC_MAIL_PW,
    },
    secure: true,
  });

  await new Promise((resolve, reject) => {
    // verify connection configuration
    transporter.verify((error, success) => {
      if (error) {
        console.log(error);
        reject(error);
      } else {
        console.log('Server is ready to take our messages');
        resolve(success);
      }
    });
  });

  const mailData = {
    from: 'divertidomailservice@gmail.com',
    to: 'jaspervermeulen@icloud.com',
    subject: `Berichtje van website | ${req.body.subject}`,
    text: `${req.body.message} | Verzender: ${req.body.email}`,
    html: `
    <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
    <html xmlns="http://www.w3.org/1999/xhtml">
    <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
      <title>Demystifying Email Design</title>
      <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    </head>
    </html>
    <table style="font-family: Arial, sans-serif, 'Open Sans'; max-width:600px" width="100%" border="0" align="center" cellspacing="0" cellpadding="0">
      <tr>
        <td colspan="2">
          <div style="margin: 0px; padding: 0px; padding-top: 14px; margin-bottom: 16px">
            <svg width="155" height="20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M.1953 1.2031C.3047 1.0625.879.9727 1.918.9336a15.636 15.636 0 0 1 .5742-.0117c.6953 0 1.1172.0625 1.2656.1875.1563.0937.7422 1.375 1.7578 3.8437C6.5312 7.422 7.422 9.6523 8.1875 11.6445c-.039-.7734-.1875-2.4062-.4453-4.8984-.25-2.5-.379-4.2656-.3867-5.2969-.0078-.0937.0898-.1875.293-.2812.2109-.0938.4765-.168.7968-.2227A9.7895 9.7895 0 0 1 9.4531.8047 8.2528 8.2528 0 0 1 9.8867.793c.2031 0 .3985.0117.586.0351.3281.039.582.1094.7617.211.1094.1562.2109 1.5507.3047 4.1836.0859 2.3437.1289 4.7304.1289 7.1601a34.8144 34.8144 0 0 0-.0118.9141c-.0156 2.75-.0976 4.3281-.246 4.7343-.0235.1094-.4649.2188-1.3243.3282-.75.1015-1.3672.1523-1.8515.1523h-.1875c-.3282-.0234-.5664-.1914-.7149-.5039-.164-.3516-.7148-1.8476-1.6523-4.4883-.9375-2.6484-1.5235-4.2422-1.7578-4.7812.0234.5234.1914 2.0429.5039 4.5586.289 2.3359.4336 3.8906.4336 4.664v.1641c-.0078.2188-.336.3789-.9844.4805a6.8134 6.8134 0 0 1-1.9453.0234c-.6563-.0859-.9922-.2461-1.0078-.4805C.6875 15.1797.4609 11.6719.2422 7.625.125 5.4687.0625 3.8555.0547 2.7852c0-.9454.0469-1.4727.1406-1.582Zm13.9102 2.9297c.0547-.1719.289-.289.7031-.3515a3.8672 3.8672 0 0 1 .7383-.047c.1797 0 .3593.0079.539.0235.4375.0469.711.1328.8203.2578.1641.1953.3047 1.0469.4219 2.5547.1094 1.5156.1797 3.1406.211 4.875.0234 1.2656.0351 2.4609.0351 3.5859-.0078.4219-.0117.836-.0117 1.2422-.0156 1.4844-.0508 2.3204-.1055 2.5078.0235.1954-.2148.3438-.7148.4454a4.5955 4.5955 0 0 1-.9258.0937 4.228 4.228 0 0 1-.6211-.0469c-.5312-.0625-.8242-.2031-.8789-.4218-.0547-.3125-.1133-2.8047-.1758-7.4766-.039-2.875-.0586-4.8945-.0586-6.0586 0-.7266.0078-1.121.0235-1.1836Zm5.6367 9.9844a56.5438 56.5438 0 0 1-.0117-1.9922 93.137 93.137 0 0 1 .1523-5.7188c.1406-2.578.3633-3.8867.668-3.9257.5859-.0938 1.3398-.1407 2.2617-.1407.25 0 .5078.004.7734.0118 1.2813.0312 2.168.0898 2.6602.1757h.0234c.2735-.0078.4571.2305.5508.7149.0391.2031.0586.4101.0586.621a3.488 3.488 0 0 1-.1172.8907c-.1328.5078-.3281.7734-.5859.7969-.1797.0156-.5117.0234-.9961.0234-.4766 0-.9844-.0039-1.5235-.0117a219.999 219.999 0 0 0-.8437-.0117c-.0313.1797-.0508.4492-.0586.8086v.4336c.0078.211.0117.4101.0117.5976.0156.3125.0274.6172.0352.914.0078.297.0117.4532.0117.4688.8906 0 1.625.0313 2.2031.0938.1172.0078.2656.0195.4453.0351.1797.0079.336.0196.4688.0352.1328.0078.2461.0234.3398.0469.1328.039.2188.1992.2578.4804.0235.1563.0352.3164.0352.4805 0 .1406-.0078.2735-.0234.3985a11.7171 11.7171 0 0 1-.1289.8906c-.0235.1328-.4805.2031-1.3711.2109h-.5157c-.6718 0-1.2578-.0117-1.7578-.0351l-.0937 3.9375c.6093.039 1.1562.0585 1.6406.0585.2031 0 .3984-.0039.5859-.0117.2657-.0078.5118-.0117.7383-.0117.3047 0 .5586.0078.7617.0234.375.0313.5782.1133.6094.2461.1016.3594.1524.6993.1524 1.0196a.3807.3807 0 0 0-.0118.0937c-.0156.3438-.0507.6328-.1054.8672-.0469.2422-.0899.3672-.1289.375-.1641.0781-1.1993.1289-3.1055.1524a41.0106 41.0106 0 0 1-.9492.0117c-1.375 0-2.2969-.0469-2.7656-.1407-.1876-.0468-.3047-1.3515-.3516-3.914Zm9.2226-5.6836c.0157-1.1484.043-2.2266.0821-3.2344.039-1.0078.0703-1.5469.0937-1.6172.0469-.1484.2813-.2617.7032-.3398a3.0397 3.0397 0 0 1 .5976-.0586c.2266.0078.4609.0351.7031.082.4453.0938.7188.2735.8203.539.0235.086.0352.7032.0352 1.8516 0 1.1407-.0039 2.2852-.0117 3.4336v1.0664c0 .6641.0039 1.2266.0117 1.6876.0234 1.5859.3828 2.7617 1.0781 3.5273.2813.3047.6016.4609.961.4687h.0351c.3438 0 .6094-.1484.7969-.4453.3125-.4843.5586-1.1601.7383-2.0273.1875-.8594.2968-1.5938.3281-2.2031.0313-.4922.0469-.9375.0469-1.336v-.246c0-.2344-.0235-.6759-.0703-1.3243a210.9665 210.9665 0 0 0-.1172-1.8398 21.3006 21.3006 0 0 1-.0703-1.7461V4.578c0-.539.0351-.871.1054-.996.0547-.1407.3086-.2344.7618-.2813a4.5925 4.5925 0 0 1 .457-.0235c.289-.0078.5742.0196.8554.082.4376.0938.6602.2423.668.4454 0 .0312.0274.3867.082 1.0664.0626.6719.1211 1.414.1758 2.2266.0547.8046.0977 1.6601.1289 2.5664.0157.3906.0235.7421.0235 1.0547 0 .4218-.0117.7734-.0352 1.0546-.039.4219-.0937.8477-.164 1.2774-.0704.4219-.1758.8789-.3164 1.3711-.1407.4843-.3047.9414-.4922 1.3711-.1797.4218-.4141.8281-.7032 1.2187-.2812.3906-.5937.7188-.9375.9844-.3437.2656-.75.4648-1.2187.5977-.3203.0937-.6563.1406-1.0078.1406a3.7166 3.7166 0 0 1-.5039-.0352c-.4375-.0469-.8399-.1406-1.2071-.2812-.3672-.1407-.6875-.3008-.9609-.4805-.2734-.1719-.5234-.3984-.75-.6797-.2266-.2812-.418-.5469-.5742-.7969-.1485-.25-.2852-.5664-.4102-.9492-.1172-.3828-.2109-.7109-.2812-.9844-.0625-.2734-.125-.625-.1875-1.0546-.0625-.4375-.1055-.7813-.1289-1.0313a59.9323 59.9323 0 0 1-.0821-1.0312c-.039-.6485-.0586-1.3946-.0586-2.2383v-.7383Zm11.8243-3.9844c-.0157-.1719.2109-.3437.6797-.5156a3.9326 3.9326 0 0 1 1.4062-.2578c.0078.0078.0195.0117.0352.0117.5 0 .7773.125.832.375l.2812 1.6875c.1797 1.0781.4024 2.3516.668 3.8203.2656 1.4688.5 2.6485.7031 3.5391 1.0157-4.3438 1.6875-6.6563 2.0157-6.9375.1718-.1406.6445-.2188 1.4179-.2344h.2696c.6093 0 .9765.0469 1.1015.1406.1172.1406.2578.4219.4219.8438.1641.414.3359.9219.5156 1.5234.1797.6016.3438 1.1758.4922 1.7227.1563.539.3203 1.1289.4922 1.7695.1719.6406.293 1.082.3633 1.3242.1562-.5625.3945-1.6133.7148-3.1523.3203-1.5469.6133-2.9258.8789-4.1367.2735-1.211.461-1.8711.5625-1.9805.1719-.1875.4766-.2813.9141-.2813.1406 0 .3047.0118.4922.0352.7187.086 1.1758.2734 1.3711.5625.039.0547.0586.1601.0586.3164 0 .3984-.1211 1.1094-.3633 2.1328-.336 1.4297-.7344 2.918-1.1953 4.4649a473.3578 473.3578 0 0 1-1.3828 4.5351c-.461 1.4844-.6993 2.25-.7149 2.2969-.0469.1406-.2891.25-.7265.3281a4.3793 4.3793 0 0 1-.7852.0703 5.834 5.834 0 0 1-.5274-.0234c-.4374-.0469-.6914-.1485-.7617-.3047-.1718-.4141-.4218-1.2031-.75-2.3672a345.9351 345.9351 0 0 1-.914-3.4101c-.2813-1.1094-.4336-1.7032-.4571-1.7813-.4922 1.75-1.3476 4.2539-2.5664 7.5117-.0547.1407-.2851.2344-.6914.2813a6.834 6.834 0 0 1-.5625.0468 4.6414 4.6414 0 0 1-.6562-.0468c-.4063-.0625-.625-.1641-.6563-.3047-.2031-.8125-.4765-2-.8203-3.5625-.3437-1.5703-.6211-2.7656-.832-3.586-.1719-.6874-.3711-1.5507-.5977-2.5898-.2187-1.039-.4023-1.9375-.5508-2.6953-.1406-.7656-.1992-1.1563-.1757-1.1719ZM64.707 6.3828c.0391-2.5937.1563-3.918.3516-3.9726.7969-.1954 1.5195-.3243 2.168-.3868.3281-.0312.6562-.0468.9843-.0468.336 0 .6758.0156 1.0196.0468.6875.0625 1.3164.2657 1.8867.6094.5703.336 1.0547.8125 1.4531 1.4297.4922.7656.7617 1.586.8086 2.461a4.134 4.134 0 0 1 .0117.3163c0 .7579-.1523 1.4805-.457 2.168-.3438.7813-.8398 1.4922-1.4883 2.1328.6485.6094 1.1133 1.2617 1.3945 1.9571.1797.4375.2696.8867.2696 1.3476 0 .2656-.0313.5391-.0938.8203-.164.75-.5781 1.4492-1.2422 2.0977-.5781.5547-1.2734.9883-2.0859 1.3008a5.3831 5.3831 0 0 1-2.0156.3632 5.969 5.969 0 0 1-.5391-.0234c-.8906-.0781-1.6367-.3867-2.2383-.9258-.039-.0469-.0898-1.3593-.1523-3.9375a305.7872 305.7872 0 0 1-.0586-4.6523c0-1.0313.0078-2.0664.0234-3.1055Zm2.8946 10.1133c.3828-.0156.7656-.1055 1.1484-.2695.375-.1563.7031-.3985.9844-.7266.2344-.2812.3515-.5938.3515-.9375 0-.0703-.0039-.1367-.0117-.1992-.0859-.6172-.3711-1.1055-.8554-1.4649-.3594-.2656-.7383-.3984-1.1368-.3984-.1484 0-.3008.0195-.457.0586-.0156.75-.0234 2.0625-.0234 3.9375Zm.0468-6.6914a5.1454 5.1454 0 0 0 .9844-.3047 5.1263 5.1263 0 0 0 .8789-.504c.2735-.203.4883-.453.6445-.75a1.8695 1.8695 0 0 0 .211-.867v-.0938a3.6506 3.6506 0 0 0-.1758-.879c-.0937-.289-.2383-.5742-.4336-.8554-.1875-.289-.4609-.5195-.8203-.6914-.3516-.1797-.7656-.2696-1.2422-.2696 0 1.1797-.0156 2.918-.0469 5.2149Zm7.3125 4.3125a56.5438 56.5438 0 0 1-.0117-1.9922 93.1372 93.1372 0 0 1 .1524-5.7188c.1406-2.578.3632-3.8867.6679-3.9257.586-.0938 1.3399-.1407 2.2617-.1407.25 0 .5079.004.7735.0118 1.2812.0312 2.168.0898 2.6601.1757h.0235c.2734-.0078.457.2305.5508.7149.039.2031.0586.4101.0586.621a3.488 3.488 0 0 1-.1172.8907c-.1328.5078-.3282.7734-.586.7969-.1797.0156-.5117.0234-.9961.0234-.4765 0-.9843-.0039-1.5234-.0117a219.855 219.855 0 0 0-.8438-.0117c-.0312.1797-.0507.4492-.0585.8086v.4336c.0078.211.0117.4101.0117.5976.0156.3125.0273.6172.0351.914.0078.297.0117.4532.0117.4688.8907 0 1.625.0313 2.2032.0938.1172.0078.2656.0195.4453.0351.1797.0079.3359.0196.4687.0352.1328.0078.2461.0234.3399.0469.1328.039.2187.1992.2578.4804.0234.1563.0351.3164.0351.4805 0 .1406-.0078.2735-.0234.3985a11.6174 11.6174 0 0 1-.1289.8906c-.0234.1328-.4805.2031-1.3711.2109h-.5156c-.6719 0-1.2578-.0117-1.7578-.0351l-.0938 3.9375c.6094.039 1.1563.0585 1.6406.0585.2032 0 .3985-.0039.586-.0117.2656-.0078.5117-.0117.7383-.0117.3047 0 .5586.0078.7617.0234.375.0313.5781.1133.6094.2461.1015.3594.1523.6993.1523 1.0196a.3854.3854 0 0 0-.0117.0937c-.0156.3438-.0508.6328-.1055.8672-.0469.2422-.0898.3672-.1289.375-.164.0781-1.1992.1289-3.1055.1524a41.0039 41.0039 0 0 1-.9492.0117c-1.375 0-2.2969-.0469-2.7656-.1407-.1875-.0468-.3047-1.3515-.3516-3.914Zm9.5625-8.8242c.0235-.5.0782-.7735.1641-.8203.1875-.211.5156-.379.9844-.504.4297-.1171.9179-.1796 1.4648-.1875.0469 0 .0977.004.1524.0118.6015.0156 1.2031.086 1.8047.211a4.9843 4.9843 0 0 1 1.6757.6796c.5157.3281.8907.7305 1.125 1.207.3672.7344.6094 1.4453.7266 2.1328.0625.375.0977.7266.1055 1.0547 0 .2657-.0235.5117-.0704.7383-.0937.5-.2343.9688-.4218 1.4063-.1875.4375-.3867.7929-.5977 1.0664-.2031.2656-.3711.4921-.5039.6797-.1328.1874-.1836.3007-.1523.3398.1484.2266.5.7383 1.0547 1.5352.5625.789 1.1484 1.6679 1.7578 2.6367a.1259.1259 0 0 1 .0234.0703c.0078.1328-.1523.332-.4805.5976a4.8034 4.8034 0 0 1-1.289.7383c-.25.1016-.4531.1524-.6094.1524-.1328 0-.2305-.0391-.293-.1172-.4218-.5703-.914-1.3399-1.4765-2.3086-.5625-.9688-.9571-1.6172-1.1836-1.9453-.125-.1797-.293-.2422-.5039-.1875-.1016.0234-.1875.0781-.2578.164-.0625.0782-.0899.168-.0821.2696.0156.2656.0469.6484.0938 1.1484.039.5.0703.9531.0937 1.3594.0157.2422.0235.4804.0235.7148 0 .1563-.0039.3125-.0118.4688-.0078.1953-.2148.3633-.621.5039-.3594.1328-.7188.1953-1.0782.1875h-.1172c-.3984-.0157-.5937-.125-.5859-.3281a182.0954 182.0954 0 0 1-.2695-2.8008c-.086-.9766-.1758-2.0118-.2696-3.1055a225.3028 225.3028 0 0 1-.2226-3.1172c-.0625-.9765-.1094-1.871-.1406-2.6836a36.8365 36.8365 0 0 1-.0235-1.2422c0-.2734.0039-.5156.0117-.7265Zm2.6368 1.3828c.0078.6015.0546 1.5.1406 2.6953.0859 1.1875.1367 2.043.1523 2.5664 0 .0625.0235.1133.0703.1523.0469.0391.1016.0508.1641.0352.7969-.0938 1.4414-.4922 1.9336-1.1953.3906-.5469.5859-1.125.5859-1.7344 0-.164-.0156-.332-.0468-.5039-.211-1.1562-1.129-1.8984-2.754-2.2266-.0624-.0156-.121.004-.1757.0586-.0547.047-.0782.0977-.0703.1524Zm8.7187-2.543c.0547-.1719.2891-.289.7031-.3515a3.8672 3.8672 0 0 1 .7383-.047c.1797 0 .3594.0079.5391.0235.4375.0469.7109.1328.8203.2578.1641.1953.3047 1.0469.4219 2.5547.1093 1.5156.1796 3.1406.2109 4.875.0234 1.2656.0352 2.4609.0352 3.5859-.0079.4219-.0118.836-.0118 1.2422-.0156 1.4844-.0507 2.3204-.1054 2.5078.0234.1954-.2149.3438-.7149.4454a4.5955 4.5955 0 0 1-.9258.0937 4.2267 4.2267 0 0 1-.621-.0469c-.5313-.0625-.8243-.2031-.879-.4218-.0546-.3125-.1132-2.8047-.1757-7.4766-.0391-2.875-.0586-4.8945-.0586-6.0586 0-.7266.0078-1.121.0234-1.1836Zm5.5081 7.3242c.015-.3359.031-.6289.047-.8789.015-.25.05-.625.105-1.125.063-.5078.129-.9531.199-1.336.078-.3905.192-.8476.34-1.371.156-.5313.328-.9922.516-1.3828.195-.3985.441-.8008.738-1.207.297-.4063.625-.7383.984-.9961.36-.2579.786-.4649 1.278-.6211.429-.1328.89-.1993 1.383-.1993h.222c.078-.0078.25.0118.516.0586.265.0391.59.1094.973.211.382.1015.769.2773 1.16.5273.398.25.707.5508.925.9024.055.078.055.1601 0 .246-.171.3672-.402.7735-.691 1.2188-.289.4453-.523.668-.703.668-.125-.0078-.297-.0899-.516-.2461-.211-.164-.418-.3242-.621-.4805-.203-.1562-.461-.2734-.773-.3515a1.2363 1.2363 0 0 0-.34-.047c-.203 0-.402.047-.598.1407-.422.164-.785.496-1.09.996-.296.5-.511 1.0626-.644 1.6876-.141.625-.235 1.1992-.281 1.7226-.039.3985-.055.7657-.047 1.1016V11c.031.8438.14 1.5547.328 2.1328.195.5781.426 1.0078.691 1.2891.274.2812.598.4726.973.5742.273.0781.535.1172.785.1172.086.0078.176.0039.27-.0117.328-.0313.679-.1172 1.054-.2578.383-.1407.684-.2657.903-.375a9.072 9.072 0 0 0 .656-.375c.125-.0782.316-.0157.574.1874.266.2032.504.461.715.7735.211.3125.371.6211.48.9258.118.3047.094.5156-.07.6328-1.906 1.3281-3.586 1.9922-5.039 1.9922a4.319 4.319 0 0 1-.305-.0117c-1.531-.1016-2.75-.793-3.656-2.0743-.898-1.289-1.379-2.9765-1.441-5.0625Zm11.929 3.0235c-.007-.6172-.011-1.2383-.011-1.8633 0-1.7422.039-3.504.117-5.2852.109-2.414.262-3.703.457-3.8672.18-.1484.637-.2382 1.371-.2695.109-.0078.211-.0117.305-.0117.554 0 .918.086 1.09.2578.07.0781.109.4258.117 1.043v.4453c-.008.5469-.02 1.2187-.035 2.0156-.032 1.0235-.043 1.7031-.036 2.039 0 .0704.055.129.164.1759.118.039.231.0586.34.0586.282-.0157.547-.0235.797-.0235.375 0 .711.0156 1.008.0469.297 0 .445-.0703.445-.211 0-.4609-.007-1.1914-.023-2.1914-.008-1-.012-1.793-.012-2.3789 0-.5859.012-.8945.035-.9257.086-.1485.379-.2696.879-.3633.344-.0625.68-.0938 1.008-.0938.148 0 .301.0078.457.0235.469.0468.715.168.738.3632.164 1.1875.254 2.957.27 5.3086v.832c0 2.0157-.039 3.8399-.117 5.4727-.086 1.8516-.18 2.836-.282 2.9531-.14.1797-.484.2696-1.031.2696-.375 0-.844-.043-1.406-.1289-.063-.0078-.106-.0157-.129-.0235-.219-.0312-.328-.1484-.328-.3515-.008-.0938-.012-.2266-.012-.3985 0-.4687.024-1.2461.07-2.332.055-1.3203.083-2.2852.083-2.8945v-.211c0-.1015-.024-.1836-.071-.2461-.047-.0703-.113-.1015-.199-.0937l-2.273.0703c-.032 0-.079.0039-.141.0117h-.117c-.016 0-.043.0039-.082.0117-.039.0079-.063.0196-.071.0352a.497.497 0 0 0-.035.0469c-.015.0234-.027.0547-.035.0937v.1172c-.008.4141.012 1.1953.059 2.3438.031.9062.05 1.6562.058 2.25a8.6808 8.6808 0 0 0-.011.4453c-.016.6562-.075 1-.176 1.0312-.414.1094-.856.1641-1.324.1641-.5 0-1.036-.0625-1.606-.1875-.164-.0313-.266-1.2227-.305-3.5742Zm10.969-8.2735a2.7457 2.7457 0 0 1-.07-.621c.008-.2344.043-.4766.105-.7266.125-.4531.368-.6797.727-.6797 2.437-.086 4.394-.129 5.871-.129 1.984 0 3.102.0782 3.352.2345.148.078.246.3203.292.7265.016.125.02.25.012.375.008.2735-.027.543-.105.8086-.11.3906-.289.5938-.539.6094a5.0356 5.0356 0 0 1-.375.0117c-.188.0078-.414.004-.68-.0117-.344-.0156-.641-.0235-.891-.0235h-.281c-.297.0079-.441.0547-.433.1407.109 5.0859.164 8.8593.164 11.3203 0 .2031-.071.3789-.211.5273-.133.1563-.301.2383-.504.2461-.61.0313-1.09.0469-1.442.0469-.203 0-.382-.0703-.539-.2109-.148-.1328-.226-.3008-.234-.5039-.078-1.3907-.27-5.1915-.574-11.4024-.016-.0781-.231-.1172-.645-.1172-.414 0-.902.0156-1.465.0469-.437.0234-.758.0313-.961.0234h-.14c-.188-.0078-.332-.2382-.434-.6914Zm12.129 6.8086c.008-.0859.145-.1679.41-.2461.274-.0859.574-.1523.903-.1992.242-.0312.472-.0469.691-.0469.086 0 .168.0039.246.0118.289.0156.457.0703.504.164.062.1094.105.3125.129.6094.031.2891.058.5625.082.8203.031.25.141.4844.328.7031.188.2188.465.3399.832.3633.242-.0078.445-.043.609-.1055.172-.0625.305-.1367.399-.2226.101-.086.18-.211.234-.375.063-.1719.102-.3281.117-.4688.024-.1406.043-.332.059-.5742v-.1875c0-.2187-.004-.5976-.012-1.1367-.023-.75-.047-1.6016-.07-2.5547-.023-.9531-.039-1.9062-.047-2.8594a43.8988 43.8988 0 0 1-.012-.996c0-.5235.004-.9922.012-1.4063.024-.6563.067-1 .129-1.0313.148-.0703.613-.121 1.395-.1523h.328c.593 0 .984.0664 1.172.1992.039.039.097.4414.175 1.207.078.7657.145 1.7227.2 2.8711.039.9922.058 2.0079.058 3.0469v.4805c-.008 1.2031-.094 2.3359-.258 3.3984-.156 1.0625-.39 1.8164-.703 2.2617-.383.5469-.867.9688-1.453 1.2657-.578.3047-1.176.4726-1.793.5039h-.199c-.547 0-1.094-.1016-1.641-.3047-.609-.2266-1.14-.5586-1.593-.9961-.454-.4297-.801-.9961-1.043-1.6992-.157-.4922-.235-1.0117-.235-1.5586 0-.2578.016-.5196.047-.7852Zm10.805 1.1016a55.1306 55.1306 0 0 1-.012-1.9922 93.2958 93.2958 0 0 1 .152-5.7188c.141-2.578.364-3.8867.668-3.9257.586-.0938 1.34-.1407 2.262-.1407.25 0 .508.004.773.0118 1.282.0312 2.168.0898 2.661.1757h.023c.274-.0078.457.2305.551.7149.039.2031.058.4101.058.621 0 .297-.039.5938-.117.8907-.133.5078-.328.7734-.586.7969-.179.0156-.511.0234-.996.0234-.476 0-.984-.0039-1.523-.0117a219.898 219.898 0 0 0-.844-.0117c-.031.1797-.051.4492-.059.8086v.4336c.008.211.012.4101.012.5976.016.3125.028.6172.035.914.008.297.012.4532.012.4688.891 0 1.625.0313 2.203.0938.117.0078.266.0195.446.0351.179.0079.335.0196.468.0352.133.0078.246.0234.34.0469.133.039.219.1992.258.4804.023.1563.035.3164.035.4805 0 .1406-.008.2735-.023.3985a12.41 12.41 0 0 1-.129.8906c-.024.1328-.481.2031-1.371.2109H152c-.672 0-1.258-.0117-1.758-.0351l-.094 3.9375c.61.039 1.157.0585 1.641.0585.203 0 .399-.0039.586-.0117.266-.0078.512-.0117.738-.0117.305 0 .559.0078.762.0234.375.0313.578.1133.609.2461.102.3594.153.6993.153 1.0196a.3763.3763 0 0 0-.012.0937c-.016.3438-.051.6328-.105.8672-.047.2422-.09.3672-.129.375-.164.0781-1.2.1289-3.106.1524-.336.0078-.652.0117-.949.0117-1.375 0-2.297-.0469-2.766-.1407-.187-.0468-.304-1.3515-.351-3.914Z" fill="#000"/></svg>
            <p style="margin: 0px; padding: 0px; padding-top: 5px; padding-bottom: 5px; font-size:13px">(Dit berichtje is verstuurd via de website)
            <hr />
          </div>
        </td>
      </tr>
      <tr>
        <td style="margin: 0px; padding: 0px">
          <p style="margin: 0px; padding: 0px; padding-bottom: 4px; font-size:13px; text-transform: uppercase; font-weight: 900;opacity: 0.7">Naam:</p>
          <p style="border: solid; margin-top: 2px; margin-right: 12px; border-color: #539AD160; border-radius: 4px;
; margin: 0px; padding: 5px; font-size:15px">${req.body.name}</p>
          </td>
        <td style="margin: 0px; padding: 0px; padding-left: 6px">
          <p style="margin: 0px; padding: 0px; padding-bottom: 4px; font-size:13px; text-transform: uppercase; font-weight: 900;opacity: 0.7">Email:</p>
          <p style="border: solid; margin-top: 2px; margin-right: 12px; border-color: #539AD160; border-radius: 4px;
; margin: 0px; padding: 5px; font-size:15px">${req.body.email}</p>
        </td>
      </tr>
      <tr>
        <td colspan="2" style="margin: 0px; padding: 0px">
          <div style="padding-top: 16px">
            <p style="margin: 0px; padding: 0px; padding-bottom: 4px; font-size:13px; text-transform: uppercase; font-weight: 900;opacity: 0.7">Onderwerp:</p>
            <p style="border: solid; margin-top: 2px; margin-right: 12px; border-color: #539AD160; border-radius: 4px;
; margin: 0px; padding: 5px; font-size:15px">${req.body.subject}</p>
          </div>
        </td>
      </tr>
      <tr>
        <td colspan="2" style="margin: 0px; padding: 0px">
          <div style="padding-top: 16px">
            <p style="margin: 0px; padding: 0px; padding-bottom: 4px; font-size:13px; text-transform: uppercase; font-weight: 900;opacity: 0.7">Bericht:</p>
            <p style="border: solid; margin-top: 2px; margin-right: 12px; border-color: #539AD160; border-radius: 4px;
; margin: 0px; padding: 5px; font-size:15px">${req.body.message}</p>
          </div>
        </td>
      </tr>
    </table>
    `,
  };

  await new Promise((resolve, reject) => {
    // send mail
    transporter.sendMail(mailData, (err, info) => {
      if (err) {
        console.error(err);
        reject(err);
      } else {
        console.log(info);
        resolve(info);
      }
    });
  });

  res.status('200').send();
}
